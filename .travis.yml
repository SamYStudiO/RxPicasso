language: android

jdk:
  - oraclejdk8

before_install:
  - mkdir "$ANDROID_HOME/licenses" || true
  - echo "d56f5187479451eabf01fb78af6dfcb131a6481e" > "$ANDROID_HOME/licenses/android-sdk-license"

script:
  - ./gradlew clean check

after_success:
  - .buildscript/deploy_snapshot.sh

env:
  global:
  - secure: "e2x7E3ehZkh9Q7PXZOibU6Rw2vIOWOjVlspir7I3UoXEEqtWSx33kPTlS+itOopEWD/DCHu+oYOtdhEHl9Xt24RsEozrblb2YHxTXrvGX1reuwrG2XB5eh+kfr9nSLUONLP1WUAP31AU2ilx+P4LsYBcAHaBV5+OoWQNLnG/cqiEkuAXr76aNwZ4Ywg4qSE656p6EVaV/XSXja8Bt77CsGv8p69EHfqomfTCGjo2hUvOIzjgk5uloVPFmhv6k6Tenv4qQij/gG4GvfMBbyNEquhMiOw4nRSTYiQwwEDmquPFDHMCv1ecRG6NCjNNeBzqEg7GpbRhSy1t1eQVpXXFlqxBTQrf89ASxG56jGv2rh6zKDCyz4k03KCfR/QpIgMFdPl2C5SXxXwkPN1z2S27wStkTv+iAZSMSDsXbFt6nEYHsxrvy4WyRxNG78kUmzm/jaBULjO54zbJ5bMAp6l4sEEZi4Iwuvt/gusP0t9XrqAfJwAyJgpRddCB13rK42MKiE15377Niu/kwyA+0clA1pYaZ6h6VZAWfSKy+/YLYCzD+aPeoPB1JJym0UftJcEP93AT6cuPoNmULJ7ILLEqeatjQSS5kxYkMU4t141VFYvlyFfWV52c76UdEj8dOyJIaua6cJwpdQgYUIOCCdlAB21jsZaY53EThH3vHL29VTM="
  - secure: "enSb9naEUyf7q+XQUPWjSuEC5WZM73oeMqzNJSO6JPmzMEAe8oGjK/AUZY+GbYzheuK8A1G8F7xa4qeC0oUAKKm18VGvWoN/hHdsDg0LkB0HvmVFsZJt1MqxQduCuObOLyMo1rQ6LLL8yIeoB0KwsMX8IqMa1Fo4as6nJcaDEqw1ovoatWyWJUL/y0khT3hNtL9wFGMX2OgTsHoPhyyeu82EGF7T/KF6YH1gc5Cfh59DX/usFsQJA2W/SNrnaVSR3WWygyIpKIARUNRhcXrDWlSvbKvrvq8X9g5iiCpWhSMu8Ffv3rgN0g/dZaSUHiECgk1Z2D4942E1VqWSFVO+svUg7bAlefR2chqPI8qGIo60PYtFW7yFc2nKKAm0Ofu9FmQCxNO5xGwAj1TUR5PLLTndKDw+8CgW/cAieAqFj4iO62sLKS3XGvr5Grzl5XpoDxjKhJzZ1mTo/ihxqeCK6xi4qH3ToAJOLIFKif3bmF0MfKLTFMRiOhdtYTjbg+i2hkZ4k5q1bmwPCarpjk8pJAp77Zz572Tg7lzd/TKIjcNhmiT7TbpbOV+gtNswxZ8J5+HBLgYJN8gz9sCqplm7nyAMmaeORH3xNt67s8qdI5IntzW/f7CeUjFo2uzVavhHL1RHyvwbDrqYZ2TkbekCNuwi0BwpayTgGm6wxBK8hwU="

before_cache:
  - rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
  - rm -fr $HOME/.gradle/caches/*/plugin-resolution/

cache:
  directories:
    - $HOME/.gradle/caches/
    - $HOME/.gradle/wrapper/
    - $HOME/.android/build-cache

sudo: false